#include <stdio.h>
#include <string.h>
#include <ctype.h>

#define MOD 26

// Function to encrypt a pair
void encryptPair(int p1, int p2, int key[2][2], char *c1, char *c2) {
    int x = (key[0][0]*p1 + key[0][1]*p2) % MOD;
    int y = (key[1][0]*p1 + key[1][1]*p2) % MOD;
    *c1 = x + 'A';
    *c2 = y + 'A';
}

int main() {
    char msg[] = "MEETMEATTHEUSUALPLACEATTENRATHERTHANEIGHTOCLOCK";
    int key[2][2] = {{9,4},{5,7}};
    char cipher[200];
    int i,j=0,len;

    len=strlen(msg);
    for(i=0;i<len;i++){
        if(!isalpha(msg[i])) continue;
        msg[j++] = toupper(msg[i]);
    }
    msg[j]='\0';
    len=j;

    if(len%2!=0){ msg[len++]='X'; msg[len]='\0'; }

    j=0;
    for(i=0;i<len;i+=2){
        int p1 = msg[i]-'A';
        int p2 = msg[i+1]-'A';
        char c1,c2;
        encryptPair(p1,p2,key,&c1,&c2);
        cipher[j++] = c1;
        cipher[j++] = c2;
    }
    cipher[j]='\0';

    printf("Plaintext : %s\n", msg);
    printf("Ciphertext: %s\n", cipher);
    return 0;
}
